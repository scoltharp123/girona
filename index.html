<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the ultimate gravel cycling and bikepacking adventure in Girona. Download our free 6-night itinerary, including Strava routes, packing tips, and curated stops!">
    <meta name="keywords" content="Girona gravel cycling, Girona bikepacking itinerary, Catalonia gravel routes, free cycling guide, Costa Brava cycling">
    <meta name="author" content="Girona Luxe Bikepacking">
    <title>Girona Gravel Bikepacking Guide | Free Itinerary</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js" integrity="sha256-J3j5j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0" crossorigin="anonymous" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js" integrity="sha256-K3j5j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0" crossorigin="anonymous" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.25.6/babel.min.js" integrity="sha256-L3j5j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0" crossorigin="anonymous" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" integrity="sha256-M3j5j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0j0" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoY6BL5cG5wsG5wsG5wsG5wsG5wsG5wsG5wsG5w=" crossorigin="anonymous" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous" defer></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #1f2937, #111827);
        }
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes parallax {
            0% { background-position: center 0; }
            100% { background-position: center 20px; }
        }
        .animate-fadeIn {
            animation: fadeIn 1s ease-out;
        }
        .hover-scale:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
        .route-image {
            max-height: 300px;
            object-fit: cover;
            width: 100%;
            border-radius: 0.75rem;
            transition: transform 0.7s ease-in-out;
        }
        .route-image:hover {
            transform: scale(1.1);
        }
        .carousel-container {
            position: relative;
            overflow: hidden;
        }
        .carousel {
            display: flex;
            transition: transform 0.7s ease-in-out;
        }
        .carousel img {
            flex: 0 0 100%;
        }
        .input-field {
            transition: border-color 0.3s ease;
        }
        .input-field:focus {
            border-color: #f97316;
            outline: none;
        }
        .hero-section {
            position: relative;
            background: url('https://via.placeholder.com/1200x600.png?text=Girona+Gravel+Hero') center/cover no-repeat;
            animation: parallax 10s infinite alternate ease-in-out;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.6), transparent);
        }
        .nav-bar {
            backdrop-filter: blur(10px);
            background: rgba(17, 24, 39, 0.8);
        }
        @media (max-width: 640px) {
            .hero-section {
                height: 400px;
            }
            h1 {
                font-size: 2.5rem;
            }
            h2 {
                font-size: 1.875rem;
            }
            .carousel-container button {
                padding: 0.75rem 1.5rem;
            }
            .itinerary-description {
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            .read-more {
                cursor: pointer;
                color: #34d399;
            }
        }
        #itinerary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }
        .itinerary-card {
            border: 1px solid #374151;
            padding: 2.5rem;
        }
        #map {
            height: 400px;
            border-radius: 0.75rem;
        }
        .weather-chart {
            display: flex;
            align-items: flex-end;
            gap: 2px;
            height: 200px;
            position: relative;
            margin-top: 1rem;
        }
        .weather-bar {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
        }
        .weather-bar div {
            width: 100%;
            border-radius: 4px;
        }
        .temp-bar {
            background-color: #059669;
        }
        .precip-bar {
            background-color: #3b82f6;
        }
        .weather-label {
            font-size: 0.75rem;
            color: #d1d5db;
            margin-top: 0.5rem;
            text-align: center;
        }
        .weather-legend {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        .weather-legend div {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .weather-legend div span {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        .error-boundary {
            background-color: #1f2937;
            padding: 2rem;
            border-radius: 0.75rem;
            text-align: center;
        }
    </style>
</head>
<body className="bg-gray-800 text-gray-100">
    <div id="root"></div>
    <script type="text/babel">
        // Error Boundary Component
        class ErrorBoundary extends React.Component {
            state = { hasError: false, error: null };

            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }

            componentDidCatch(error, errorInfo) {
                console.error('Error caught by boundary:', error, errorInfo);
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="error-boundary">
                            <h2 className="text-2xl font-bold text-red-400">Something went wrong.</h2>
                            <p className="text-gray-100 mt-2">{this.state.error?.message || 'Unknown error'}</p>
                            <button
                                className="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-500"
                                onClick={() => window.location.reload()}
                            >
                                Reload Page
                            </button>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        const NavBar = () => (
            <nav className="nav-bar fixed top-0 w-full z-50 py-4">
                <div className="container mx-auto px-4 flex justify-between items-center">
                    <a href="/" className="text-2xl font-bold text-emerald-400">Girona Luxe Bikepacking</a>
                    <div className="space-x-4">
                        <a href="#itinerary" className="text-gray-100 hover:text-emerald-400">Itinerary</a>
                        <a href="#download-form" className="text-gray-100 hover:text-emerald-400">Download</a>
                        <a href="#blog" className="text-gray-100 hover:text-emerald-400">Blog</a>
                        <a href="#faq" className="text-gray-100 hover:text-emerald-400">FAQ</a>
                    </div>
                </div>
            </nav>
        );

        const Header = () => (
            <header className="hero-section text-white">
                <div className="container mx-auto text-center animate-fadeIn relative z-10">
                    <h1 className="text-6xl md:text-4xl font-extrabold tracking-tight">Girona Gravel Bikepacking Guide</h1>
                    <p className="mt-4 text-xl font-light italic text-gray-100">Your Free 6-Night Adventure Awaits!</p>
                    <a
                        href="#itinerary"
                        className="mt-6 inline-block bg-orange-600 text-white font-semibold py-3 px-6 rounded-full hover:bg-orange-500 transition hover-scale"
                        aria-label="Explore the Girona gravel itinerary"
                    >
                        Discover the Route
                    </a>
                    <img
                        src="./old-town-girona.png"
                        alt="Old Town Girona with colorful buildings along the Onyar River"
                        className="route-image mt-6 mx-auto animate-fadeIn"
                        loading="lazy"
                        onError={(e) => { e.target.src = 'https://via.placeholder.com/1200x300.png?text=Image+Not+Found'; }}
                    />
                </div>
            </header>
        );

        const RouteMap = () => {
            React.useEffect(() => {
                if (typeof L === 'undefined' || !document.getElementById('map')) {
                    console.warn('Leaflet not loaded or map container missing');
                    return;
                }
                let map = null;
                try {
                    map = L.map('map').setView([41.971, 2.821], 10);
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                    }).addTo(map);
                    L.polyline([
                        [41.971, 2.821], // Girona
                        [42.266, 2.724], // Sant VicenÃ§ de TorellÃ³
                        [42.142, 2.960], // Banyoles
                        [42.467, 3.162], // El Port de la Selva
                        [42.362, 3.148], // L'Escala
                        [41.853, 3.218], // Tossa de Mar
                        [41.971, 2.821], // Girona
                    ], { color: '#059669' }).addTo(map);
                    const markers = [
                        { pos: [41.971, 2.821], popup: 'Girona: Start/End' },
                        { pos: [42.266, 2.724], popup: 'Sant VicenÃ§ de TorellÃ³' },
                        { pos: [42.142, 2.960], popup: 'Banyoles: Lake Views' },
                        { pos: [42.467, 3.162], popup: 'El Port de la Selva' },
                        { pos: [42.362, 3.148], popup: "L'Escala: Beach Dip" },
                        { pos: [41.853, 3.128], popup: 'Tossa de Mar' }
                    ];
                    markers.forEach(m => L.marker(m.pos).addTo(map).bindPopup(m.popup));
                } catch (error) {
                    console.error('Leaflet initialization error:', error);
                }
                return () => {
                    if (map) {
                        try {
                            map.remove();
                        } catch (e) {
                            console.warn('Error removing map:', e);
                        }
                    }
                };
            }, []);
            return <div id="map" className="animate-fadeIn"></div>;
        };

        const StickyCTA = () => (
            <div className="fixed bottom-4 right-4 z-50">
                <a
                    href="#download-form"
                    className="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-500 transition hover-scale"
                    aria-label="Download itinerary now"
                >
                    Download Free Itinerary
                </a>
            </div>
        );

        const ItineraryDay = ({ day, title, distance, elevation, description, accommodation, dining, images }) => {
            const [currentImage, setCurrentImage] = React.useState(0);
            const [isExpanded, setIsExpanded] = React.useState(false);

            const nextImage = () => {
                setCurrentImage((prev) => (prev + 1) % (images?.length || 1));
            };

            const prevImage = () => {
                setCurrentImage((prev) => (prev - 1 + (images?.length || 1)) % (images?.length || 1));
            };

            // Fallback for invalid images
            const safeImages = images?.map(img => 
                img.startsWith('https://drive.google.com') ? 'https://via.placeholder.com/1200x300.png?text=Image+Not+Available' : img
            ) || ['https://via.placeholder.com/1200x300.png?text=Image+Not+Available'];

            return (
                <div className="bg-gray-800 p-10 rounded-lg shadow-lg mb-6 hover-scale transition-transform animate-fade-in itinerary-card">
                    <h3 className="text-3xl font-bold text-emerald-400">{day}: {title}</h3>
                    <p className="text-gray-300 mt-2"><strong>Distance:</strong> {distance} | <strong>Elevation Gain:</strong> {elevation}</p>
                    <p className={`mt-4 text-gray-100 ${isExpanded ? '' : 'itinerary-desc'}`}>
                        {description}
                    </p>
                    {!isExpanded && (
                        <span
                            className="read-more text-emerald-400 hover:underline cursor-pointer"
                            onClick={() => setIsExpanded(true)}
                            tabIndex="0"
                            aria-label={`Read more about ${title}`}
                        >
                            Read More
                        </span>
                    )}
                    {safeImages.length > 0 && (
                        <div className="carousel-container mt-4">
                            <div className="carousel" style={{ transform: `translateX(-${currentImage * 100}%)` }}>
                                {safeImages.map((image, index) => (
                                    <img
                                        key={index}
                                        src={image}
                                        alt={`Gravel cycling route on ${title} ${index + 1}`}
                                        className="route-image"
                                        loading="lazy"
                                        onError={(e) => { e.target.src = 'https://via.placeholder.com/1200x300.png?text=Image+Not+Found'; }}
                                    />
                                ))}
                            </div>
                            {safeImages.length > 1 && (
                                <div className="flex justify-between mt-4">
                                    <button
                                        onClick={prevImage}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-500"
                                        aria-label="Previous image"
                                        tabIndex="0"
                                    >
                                        Prev
                                    </button>
                                    <button
                                        onClick={nextImage}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-500"
                                        aria-label="Next image"
                                        tabIndex="0"
                                    >
                                        Next
                                    </button>
                                </div>
                            )}
                        </div>
                    )}
                    {accommodation && (
                        <p className="mt-4"><strong>Accommodation:</strong> <span className="text-gray-100">{accommodation}</span></p>
                    )}
                    <p className="mt-2"><strong>Dining:</strong> <span className="text-gray-100">{dining}</span></p>
                </div>
            );
        };

        const DownloadForm = () => {
            const [name, setName] = React.useState('');
            const [email, setEmail] = React.useState('');
            const [donation, setDonation] = React.useState('');
            const [error, setError] = React.useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!name.trim()) {
                    setError('Name is required');
                    return;
                }
                if (!email.trim() || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    setError('Valid email is required');
                    return;
                }
                setError('');
                alert(`Thank you, ${name}! Your free itinerary will be sent to ${email}. ${donation ? 'We appreciate your donation of $' + donation + '!' : ''}`);
            };

            const handleStripePayPal = () => {
                if (!donation || parseFloat(donation) < 1) {
                    setError('Donation must be at least $1');
                    return;
                }
                alert(`Redirecting to Stripe/PayPal for $${donation} donation (mock integration).`);
            };

            return (
                <div id="download-form" className="bg-gray-800 p-10 rounded-lg shadow-lg mt-12 animate-fade-in">
                    <h3 className="text-2xl font-bold text-emerald-400 mb-4">Download Your Free Gravel Itinerary</h3>
                    <p className="text-gray-100 mb-6">Unlock the ultimate Girona gravel cycling guide for free! Your download includes:</p>
                    <ul className="text-gray-100 mb-6 list-disc list-inside">
                        <li>Detailed 6-day PDF itinerary</li>
                        <li>Strava route links for gravel and mixed terrain</li>
                        <li>Packing tips for bikepacking</li>
                        <li>Gravel-specific gear recommendations</li>
                    </ul>
                    {error && <p className="text-red-400 mb-4">{error}</p>}
                    <div className="mb-4">
                        <label htmlFor="name" className="block text-gray-100 mb-2">Name</label>
                        <input
                            id="name"
                            type="text"
                            value={name}
                            onChange={(e) => setName(e.target.value)}
                            className="w-full p-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 input-field"
                            placeholder="Your Name"
                            aria-label="Your name"
                            aria-required="true"
                        />
                    </div>
                    <div className="mb-4">
                        <label htmlFor="email" className="block text-gray-100 mb-2">Email</label>
                        <input
                            id="email"
                            type="email"
                            value={email}
                            onChange={(e) => setEmail(e.target.value)}
                            className="w-full p-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 input-field"
                            placeholder="Your Email"
                            aria-label="Your email"
                            aria-required="true"
                        />
                    </div>
                    <div className="mb-6">
                        <label htmlFor="donation" className="block text-gray-100 mb-2">Optional Donation ($)</label>
                        <input
                            id="donation"
                            type="number"
                            value={donation}
                            onChange={(e) => setDonation(e.target.value)}
                            className="w-full p-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 input-field"
                            placeholder="Enter any amount to support us"
                            min="1"
                            step="0.01"
                            aria-label="Optional donation amount"
                        />
                    </div>
                    <div className="flex flex-col space-y-4">
                        <button
                            onClick={handleSubmit}
                            className="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-500 transition hover-scale"
                            aria-label="Download free itinerary"
                        >
                            Download Free Itinerary
                        </button>
                        <button
                            onClick={handleStripePayPal}
                            className="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-500 transition hover-scale"
                            aria-label="Donate with Stripe or PayPal"
                        >
                            Donate with Stripe/PayPal
                        </button>
                        <a
                            href="https://www.buymeacoffee.com/girona-gravel"
                            className="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-500 transition hover-scale text-center"
                            aria-label="Buy me a coffee donation"
                        >
                            Buy Me a Coffee
                        </a>
                    </div>
                </div>
            );
        };

        const GearGuide = () => (
            <div className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Gravel Gear Guide</h3>
                <p className="text-gray-100 mb-6 text-center">Prepare for Gironaâ€™s mixed terrain with these gravel-specific recommendations:</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Bike Setup</h4>
                        <p className="text-gray-100">Use a gravel bike with 700x40mm tires for optimal grip on Gironaâ€™s mixed surfaces. Ensure clearance for mud.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Packing</h4>
                        <p className="text-gray-100">Bring lightweight panniers or a frame bag, a multi-tool, and spare tubes for gravel repairs.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Clothing</h4>
                        <p className="text-gray-100">Pack a breathable rain jacket and padded gravel shorts for spring weather and long rides.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Navigation</h4>
                        <p className="text-gray-100">Use a GPS device like a Garmin Edge 530 or Wahoo Elemnt Bolt for reliable Strava route tracking.</p>
                    </div>
                </div>
            </div>
        );

        const WhyGirona = () => (
            <div className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Why Girona is a Gravel Cycling Paradise</h3>
                <p className="text-gray-100 mb-6 text-center">Girona is more than just a destinationâ€”itâ€™s a cyclistâ€™s dream where history, nature, and adventure converge.</p>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Rich Cultural Heritage</h4>
                        <p className="text-gray-100">Pedal through Gironaâ€™s medieval streets, past the iconic Girona Cathedral and ancient city walls, steeped in history dating back to Roman times. Stop in BesalÃº to explore its 11th-century bridge and Jewish quarter.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Breathtaking Landscapes</h4>
                        <p className="text-gray-100">From the rolling hills of the Garrotxa Volcanic Zone to the rugged cliffs of the Costa Brava, Gironaâ€™s diverse terrain offers endless gravel trails with stunning views, serene lakes, and lush forests.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">World-Class Cycling Community</h4>
                        <p className="text-gray-100">Girona is home to professional cyclists and a vibrant cycling culture. Join local group rides, visit cyclist-friendly cafes like La Fabrica, and connect with our Strava community to share your journey.</p>
                    </div>
                </div>
            </div>
        );

        const BlogSection = () => (
            <div id="blog" className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Gravel Blog</h3>
                <p className="text-gray-100 mb-6 text-center">Get inspired with tips and stories from Gironaâ€™s gravel trails.</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <img src="./rivergirona.jpg" alt="Rocacorba climb gravel trail" className="route-image mb-4" loading="lazy" onError={(e) => { e.target.src = 'https://via.placeholder.com/1200x300.png?text=Image+Not+Found'; }} />
                        <h4 className="text-lg font-semibold text-gray-100">Top 5 Gravel Climbs in Girona</h4>
                        <p className="text-gray-100">From Rocacorba to Els Ã€ngels, discover the best climbs for gravel enthusiasts in Catalonia.</p>
                        <a href="#blog" className="text-emerald-400 hover:underline mt-2 inline-block">Read More</a>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <img src="./rivergirona.jpg" alt="Girona bikepacking scenery" className="route-image mb-4" loading="lazy" onError={(e) => { e.target.src = 'https://via.placeholder.com/1200x300.png?text=Image+Not+Found'; }} />
                        <h4 className="text-lg font-semibold text-gray-100">Why Girona is a Bikepacking Paradise</h4>
                        <p className="text-gray-100">Explore Gironaâ€™s mix of gravel trails, culture, and cuisine that make it a must-visit.</p>
                        <a href="#blog" className="text-emerald-400 hover:underline mt-2 inline-block">Read More</a>
                    </div>
                </div>
            </div>
        );

        const WeatherSection = () => {
            const weatherData = [
                { month: 'Jan', temp: 13, precip: 60, suitability: 'Cool and wet; less ideal, but possible with rain gear.' },
                { month: 'Feb', temp: 14, precip: 50, suitability: 'Cool, occasional rain; suitable with proper layering.' },
                { month: 'Mar', temp: 16, precip: 50, suitability: 'Mild, some showers; good for early-season rides.' },
                { month: 'Apr', temp: 18, precip: 60, suitability: 'Pleasant, occasional rain; ideal for spring cycling.' },
                { month: 'May', temp: 22, precip: 50, suitability: 'Warm, low rain; excellent for gravel routes.' },
                { month: 'Jun', temp: 26, precip: 30, suitability: 'Warm, mostly dry; prime cycling season.' },
                { month: 'Jul', temp: 29, precip: 20, suitability: 'Hot, dry; great but requires hydration and sun protection.' },
                { month: 'Aug', temp: 29, precip: 30, suitability: 'Hot, mostly dry; good but plan for early rides.' },
                { month: 'Sep', temp: 26, precip: 60, suitability: 'Warm, some rain; excellent for late-season rides.' },
                { month: 'Oct', temp: 22, precip: 80, suitability: 'Mild, wetter; good with rain gear.' },
                { month: 'Nov', temp: 17, precip: 70, suitability: 'Cool, wet; suitable with proper gear.' },
                { month: 'Dec', temp: 14, precip: 60, suitability: 'Cool, rainy; less ideal but feasible.' }
            ];

            const maxTemp = 30; // Max temp for scaling (Â°C)
            const maxPrecip = 100; // Max precip for scaling (mm)

            return (
                <div id="weather" className="mt-12">
                    <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Weather in Girona & Costa Brava</h3>
                    <p className="text-gray-100 mb-6 text-center">Girona and Costa Brava enjoy a Mediterranean climate with mild winters and warm summers, perfect for gravel cycling year-round. Below is a monthly breakdown to help you plan your trip, along with a chart of average temperatures and precipitation.</p>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        {weatherData.map((data, index) => (
                            <div key={index} className="bg-gray-800 p-6 rounded-lg hover-scale">
                                <h4 className="text-lg font-semibold text-gray-100">{data.month}</h4>
                                <p className="text-gray-100">Avg High: {data.temp}Â°C</p>
                                <p className="text-gray-100">Precipitation: {data.precip}mm</p>
                                <p className="text-gray-100 mt-2">{data.suitability}</p>
                            </div>
                        ))}
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg">
                        <h4 className="text-lg font-semibold text-gray-100 mb-4 text-center">Temperature & Precipitation by Month</h4>
                        <div className="weather-chart">
                            {weatherData.map((data, index) => (
                                <div key={index} className="weather-bar">
                                    <div
                                        className="temp-bar"
                                        style={{ height: `${(data.temp / maxTemp) * 150}px` }}
                                        title={`Temperature: ${data.temp}Â°C`}
                                    ></div>
                                    <div
                                        className="precip-bar"
                                        style={{ height: `${(data.precip / maxPrecip) * 150}px`, marginTop: '4px' }}
                                        title={`Precipitation: ${data.precip}mm`}
                                    ></div>
                                    <div className="weather-label">{data.month}</div>
                                </div>
                            ))}
                        </div>
                        <div className="weather-legend">
                            <div>
                                <span className="temp-bar"></span>
                                <span className="text-gray-100">Temperature (Â°C)</span>
                            </div>
                            <div>
                                <span className="precip-bar"></span>
                                <span className="text-gray-100">Precipitation (mm)</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FAQSection = () => (
            <div id="faq" className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Frequently Asked Questions</h3>
                <div className="space-y-4">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Whatâ€™s included in the free itinerary?</h4>
                        <p className="text-gray-100">A PDF with daily gravel routes, Strava links, curated accommodations, dining, packing tips, and gear recommendations.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Is this itinerary gravel-specific?</h4>
                        <p className="text-gray-100">Yes! Routes are optimized for gravel and mixed terrain, with tips for bike setup and bikepacking.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">How do I receive the itinerary?</h4>
                        <p className="text-gray-100">After submitting your details, weâ€™ll email the PDF and Strava links within 24 hours.</p>
                    </div>
                </div>
            </div>
        );

        const Testimonials = () => (
            <div className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">What Gravel Cyclists Say</h3>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale flex items-center">
                        <img src="https://via.placeholder.com/50?text=Emma" alt="Cyclist Emma avatar" className="w-12 h-12 rounded-full mr-4" loading="lazy" />
                        <div>
                            <p className="text-gray-100 italic">"The ultimate gravel guide for Girona! Stunning routes and perfect recommendations."</p>
                            <p className="text-gray-300 mt-2 font-semibold">â€” Emma, UK</p>
                        </div>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale flex items-center">
                        <img src="https://via.placeholder.com/50?text=Carlos" alt="Cyclist Carlos avatar" className="w-12 h-12 rounded-full mr-4" loading="lazy" />
                        <div>
                            <p className="text-gray-100 italic">"The gravel paths and coastal views were unforgettable. A must-do adventure!"</p>
                            <p className="text-gray-300 mt-2 font-semibold">â€” Carlos, Spain</p>
                        </div>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale flex items-center">
                        <img src="https://via.placeholder.com/50?text=Sarah" alt="Cyclist Sarah avatar" className="w-12 h-12 rounded-full mr-4" loading="lazy" />
                        <div>
                            <p className="text-gray-100 italic">"The Rocacorba climb was epic, and the itinerary made planning a breeze!"</p>
                            <p className="text-gray-300 mt-2 font-semibold">â€” Sarah, USA</p>
                        </div>
                    </div>
                </div>
            </div>
        );

        const StravaFeed = () => (
            <div className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Join Our Strava Community</h3>
                <p className="text-gray-100 mb-6 text-center">See recent rides from our Girona Gravel Bikepacking Club!</p>
                <div className="bg-gray-800 p-6 rounded-lg hover-scale text-center">
                    <p className="text-gray-100">Strava feed coming soon! Join our club to share your rides.</p>
                    <a
                        href="https://www.strava.com/clubs/girona-gravel-bikepacking"
                        className="inline-block bg-emerald-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-emerald-500 transition hover-scale mt-4"
                        aria-label="Join our Strava Club"
                    >
                        Join Now
                    </a>
                </div>
            </div>
        );

        const GironaHighlights = () => (
            <div className="mt-12">
                <h3 className="text-2xl font-bold text-emerald-400 mb-4 text-center">Gironaâ€™s Must-See Highlights</h3>
                <p className="text-gray-100 mb-6 text-center">Beyond the trails, Girona offers unforgettable experiences to enrich your adventure.</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Culinary Delights</h4>
                        <p className="text-gray-100">Savor Cataloniaâ€™s cuisine at local markets like Mercat del LleÃ³ or dine at Michelin-starred restaurants like El Celler de Can Roca, blending tradition with innovation.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Historical Landmarks</h4>
                        <p className="text-gray-100">Visit the colorful houses along the Onyar River, explore the Jewish Quarterâ€™s narrow alleys, or climb the Sant Feliu Basilica for panoramic views.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Festivals and Events</h4>
                        <p className="text-gray-100">Time your trip for Gironaâ€™s Temps de Flors festival in May, where the city blooms with floral displays, or join the Girona Cycling Festival for rides and expos.</p>
                    </div>
                    <div className="bg-gray-800 p-6 rounded-lg hover-scale">
                        <h4 className="text-lg font-semibold text-gray-100">Coastal Adventures</h4>
                        <p className="text-gray-100">Take a break from cycling to kayak along the Costa Brava, explore hidden coves, or relax on pristine beaches like Sa Caleta in Lâ€™Escala.</p>
                    </div>
                </div>
            </div>
        );

        const App = () => (
            <ErrorBoundary>
                <div>
                    <NavBar />
                    <Header />
                    <main className="container mx-auto py-12 px-4">
                        <section className="mb-16 text-center animate-fade-in">
                            <h2 className="text-4xl md:text-3xl font-bold text-gray-100 mb-6">The Perfect Girona Gravel Cycling Guide</h2>
                            <p className="text-lg text-gray-100 max-w-3xl mx-auto">
                                Experience a 269-mile gravel bikepacking adventure through Gironaâ€™s world-class landscapes. From enchanted forests to the rugged Costa Brava, this free itinerary is your key to the best gravel cycling in Catalonia, complete with Strava routes, curated stops, and expert tips. Discover why Girona is a global cycling mecca, with its blend of medieval charm, diverse terrain, and vibrant cycling culture.
                            </p>
                            <RouteMap />
                        </section>
                        <WhyGirona />
                        <section id="itinerary">
                            <h2 className="text-4xl md:text-3xl font-bold text-gray-100 mb-8 text-center">Your Gravel Itinerary</h2>
                            <ItineraryDay
                                day="Day 1"
                                title="Girona to Sant VicenÃ§ de TorellÃ³"
                                distance="59 miles"
                                elevation="5,800 ft"
                                description={
                                    <>
                                        Kick off your gravel adventure with this <a href="https://www.strava.com/routes/3337115754495567062" target="_blank" className="text-emerald-400 hover:underline" aria-label="Day 1 Strava route">Strava route</a> to Sant VicenÃ§ de TorellÃ³. Navigate mixed terrain to PantÃ  de Susqueda, with stunning forested hills and crystalline waters.
                                    </>
                                }
                                images={["./rivergirona.jpg"]}
                                accommodation="Allotjament Rural Can Passerells - A luxurious rural retreat with cyclist-friendly amenities and serene countryside views."
                                dining="L'Engruna d'en Pousa, Sant VicenÃ§ de TorellÃ³ - Savor exquisite Catalan cuisine with local ingredients."
                            />
                            <ItineraryDay
                                day="Day 2"
                                title="Sant VicenÃ§ de TorellÃ³ to Banyoles"
                                distance="60 miles"
                                elevation="5,100 ft"
                                description={
                                    <>
                                        Ride this <a href="https://www.strava.com/routes/3353945102780710588" target="_blank" className="text-emerald-400 hover:underline" aria-label="Day 2 Strava route">Strava route</a> through enchanted forests to Olot, BesalÃº, and Banyoles. Pause for gelato in BesalÃº and relax by the serene Lake Banyoles.
                                    </>
                                }
                                images={["./rivergirona.jpg"]}
                                accommodation="Casa Maui - A boutique, cyclist-friendly haven with serene lake proximity."
                                dining="Petrichor Banyoles - Indulge in vibrant Mediterranean flavors."
                            />
                            <ItineraryDay
                                day="Day 3"
                                title="Banyoles to El Port de la Selva"
                                distance="48 miles"
                                elevation="5,200 ft"
                                description={
                                    <>
                                        Conquer the Rocacorba climb via this <a href="https://www.strava.com/routes/3353961700586557486" target="_blank" className="text-emerald-400 hover:underline" aria-label="Day 3 Rocacorba Strava route">Strava route</a>, then ride to El Port de la Selva (<a href="https://www.strava.com/routes/3338319789874276566" target="_blank" className="text-emerald-400 hover:underline" aria-label="Day 3 coastal Strava route">Strava route</a>) with epic coastal descents and beach drinks.
                                    </>
                                }
                                images={[
                                    "https://via.placeholder.com/1200x300.png?text=Day+3+Image",
                                    "./rivergirona.jpg"
                                ]}
                                accommodation="Hotel Porto Cristo - A luxurious seaside retreat with stunning waterfront views."
                                dining="L'Art Restaurante Port de Reig - Enjoy patatas bravas and paella with local wines."
                            />
                            <ItineraryDay
                                day="Day 4"
                                title="El Port de la Selva to L'Escala"
                                distance="51 miles"
                                elevation="4,500 ft"
                                description={
                                    <>
                                        Ride gravel roads to Cap de Creus, then enjoy coastal paths and a beach dip. This 51-mile journey ends in vibrant L'Escala with stunning Costa Brava scenery.
                                    </>
                                }
                                images={[
                                    "https://via.placeholder.com/1200x300.png?text=Day+4+Image",
                                    "./rivergirona.jpg"
                                ]}
                                accommodation="Hotel Voramar - A luxurious beachfront retreat with panoramic sea views."
                                dining="Restaurant Grop, L'Escala â€” Savor fresh seafood tapas and local wines."
                            />
                            <ItineraryDay
                                day="Day 5"
                                title="L'Escala to Tossa de Mar"
                                distance="44 miles"
                                elevation="3,900 ft"
                                description={
                                    <>
                                        Start with a gravel ride to Rustik in L'Escala, then pedal to Begur for a snack. Enjoy Costa Brava gravel routes and end in Tossa de Mar with rooftop wine.
                                    </>
                                }
                                images={["./rivergirona.jpg"]}
                                accommodation="Hostel Elva Marina - A charming hostel with a rooftop for sunset wine."
                                dining="Portal Elva, Tossa de Mar â€” Indulge in Mediterranean cuisine; lunch at Annna."
                            />
                            <ItineraryDay
                                day="Day 6"
                                title="Tossa de Mar to Girona"
                                distance="32 miles"
                                elevation="2,400 ft"
                                description={
                                    <>
                                        Ride this <a href="https://www.strava.com/routes/3359655898604872" target="_blank" className="text-blue-400 hover:underline" aria-label="Saturday Strava route">Strava route</a> to Sant Feliu de GuÃ­xols and back to Girona. End with a delicious lunch in Gironaâ€™s cycling capital.
                                    </>
                                }
                                images={["./rivergirona.jpg"]}
                                accommodation="None"
                                dining="La Fabrica, Girona â€” Celebrate with exquisite coffee and pastries."
                            />
                        </section>
                        <DownloadForm />
                        <GearGuide />
                        <GironaHighlights />
                        <BlogSection />
                        <Testimonials />
                        <StravaFeed />
                        <WeatherSection />
                        <FAQSection />
                        <section className="text-center mt-12 flex justify-center items-center space-x-4">
                            <a
                                href="https://www.strava.com/clubs/girona-gravel"
                                className="bg-emerald-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-emerald-700 transition-all duration-300 hover:scale-105"
                                aria-label="Join our Strava community"
                            >
                                Join Our Strava
                            </a>
                            <a
                                href="https://x.com/share?text=Just got the ultimate Girona gravel cycling itinerary for free! ðŸš´â€â™€ï¸ Check it out!&url=https://www.girona-luxe-bikepacking.net"
                                className="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-500 transition-all duration-300 hover:scale-105"
                                aria-label="Share on X"
                            >
                                Share on X
                            </a>
                        </section>
                        <StickyCTA />
                    </main>
                    <footer className="bg-gray-800 text-gray-100 py-6">
                        <div className="container mx-auto text-center">
                            <p>Â© 2025 Girona Club Bikepacking Group. Your gravel adventure begins here!</p>
                            <p className="mt-2 text-sm">Powered by Tailwind CSS and React.</p>
                        </div>
                    </footer>
                </div>
            </ErrorBoundary>
        );

        // Ensure root exists before rendering
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = ReactDOM.createRoot(rootElement);
            root.render(<App />);
        } else {
            console.error('Root element not found');
        }
    </script>
</body>
</html>