<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Experience premier gravel cycling and bikepacking in Girona, Spain. Explore curated routes, day trips, or a 6-night bike tour with our complimentary itinerary.">
    <meta name="keywords" content="Girona gravel cycling, Girona bikepacking, Catalonia gravel routes, premium cycling guide, Costa Brava cycling">
    <meta name="author" content="Girona Luxe Bikepacking">
    <title>Girona Gravel Bikepacking | Premier Cycling Experience</title>
    <script src="https://unpkg.com/react@18.3.1/umd/react.production.min.js" crossorigin defer></script>
    <script src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js" crossorigin defer></script>
    <script src="https://unpkg.com/@babel/standalone@7.25.6/babel.min.js" crossorigin defer></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin defer></script>
    <style>
        :root {
            --primary: #10B981; /* Emerald green */
            --accent: #F59E0B; /* Gold */
            --dark: #111827; /* Deep navy */
            --light: #F3F4F6; /* Light gray */
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #1f2937 100%);
            color: var(--light);
            overflow-x: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes parallax {
            0% { background-position: center 0; }
            100% { background-position: center 30px; }
        }

        .animate-fadeInUp {
            animation: fadeInUp 1s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite ease-in-out;
        }

        .hover-scale:hover {
            transform: scale(1.03);
            transition: transform 0.3s ease;
        }

        .route-image {
            max-height: 350px;
            object-fit: cover;
            width: 100%;
            border-radius: 1rem;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .route-image:hover {
            transform: scale(1.08);
            opacity: 0.9;
        }

        .hero-section {
            position: relative;
            background: url('https://www.travelsewhere.net/wp-content/uploads/2021/06/DSC_1175-1.jpg') center/cover no-repeat;
            animation: parallax 12s infinite alternate ease-in-out;
            height: 700px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.2));
        }

        .nav-bar {
            backdrop-filter: blur(12px);
            background: rgba(17, 24, 39, 0.85);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(90deg, var(--primary), #059669);
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .btn-primary:hover {
            background: linear-gradient(90deg, #059669, var(--primary));
            transform: scale(1.05);
        }

        .btn-accent {
            background: linear-gradient(90deg, var(--accent), #D97706);
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .btn-accent:hover {
            background: linear-gradient(90deg, #D97706, var(--accent));
            transform: scale(1.05);
        }

        @media (max-width: 640px) {
            .hero-section {
                height: 500px;
            }

            h1 {
                font-size: 2.75rem;
            }

            h2 {
                font-size: 2rem;
            }

            #map {
                height: 300px;
            }
        }

        #map {
            height: 450px;
            border-radius: 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .scroll-reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .error-boundary {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid #ff3333;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            color: #ff3333;
            margin: 2rem auto;
            max-width: 600px;
        }
    </style>
</head>
<body className="bg-gray-900 text-gray-100">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        class ErrorBoundary extends React.Component {
            state = { hasError: false, error: null };

            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="error-boundary">
                            <h2>Something went wrong.</h2>
                            <p>{this.state.error?.message || 'An unexpected error occurred.'}</p>
                            <p>Please refresh the page or contact support.</p>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        const useScrollReveal = () => {
            React.useEffect(() => {
                const elements = document.querySelectorAll('.scroll-reveal');
                const observer = new IntersectionObserver(
                    (entries) => {
                        entries.forEach((entry) => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('visible');
                                observer.unobserve(entry.target);
                            }
                        });
                    },
                    { threshold: 0.1 }
                );

                elements.forEach((el) => observer.observe(el));
                return () => observer.disconnect();
            }, []);
        };

        const NavBar = () => (
            <nav className="nav-bar fixed top-0 w-full z-50 py-5">
                <div className="container mx-auto px-6 flex justify-between items-center">
                    <a href="./" className="text-3xl font-bold text-emerald-400 tracking-tight">Girona Luxe Bikepacking</a>
                    <div className="space-x-6">
                        <a href="./itinerary.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Itinerary</a>
                        <a href="./request.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Request Access</a>
                        <a href="./climbs.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Climbs</a>
                        <a href="./cafes.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Cafés</a>
                        <a href="./cap-de-creus.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Cap de Creus</a>
                        <a href="./shops.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Bike Shops</a>
                        <a href="./banyoles-dining.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Banyoles Dining</a>
                        <a href="./beaches.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Beaches</a>
                        <a href="./gear.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Gear Guide</a>
                        <a href="./blog.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Blog</a>
                        <a href="./weather.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Weather</a>
                        <a href="./faq.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">FAQ</a>
                        <a href="./testimonials.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Testimonials</a>
                        <a href="./strava.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Strava</a>
                        <a href="./highlights.html" className="text-gray-100 hover:text-emerald-400 transition-colors font-semibold">Highlights</a>
                    </div>
                </div>
            </nav>
        );

        const Header = () => (
            <header className="hero-section text-white">
                <div className="container mx-auto text-center animate-fadeInUp relative z-10 px-4">
                    <h1 className="text-6xl sm:text-7xl font-extrabold tracking-tight mb-4">Girona Gravel Journey</h1>
                    <p className="text-2xl font-medium text-gray-200 max-w-2xl mx-auto">Discover a curated gravel cycling and bikepacking experience in Girona, Spain. Choose day trips or a 6-night bike tour with our complimentary itinerary.</p>
                    <a
                        href="/request.html"
                        className="mt-8 inline-block btn-primary text-white font-semibold py-4 px-8 rounded-full text-lg"
                        aria-label="Request your complimentary Girona gravel itinerary"
                    >
                        Request Your Complimentary Itinerary
                    </a>
                </div>
            </header>
        );

        const RouteMap = () => {
            React.useEffect(() => {
                if (typeof L !== 'undefined' && document.getElementById('map')) {
                    try {
                        const map = L.map('map').setView([41.971, 2.821], 10);
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                            className: 'map-tiles'
                        }).addTo(map);
                        L.polyline([
                            [41.971, 2.821], // Girona
                            [42.266, 2.724], // Sant Vicenç de Torelló
                            [42.142, 2.960], // Banyoles
                            [42.467, 3.162], // El Port de la Selva
                            [42.362, 3.148], // L'Escala
                            [41.853, 3.218], // Tossa de Mar
                            [41.971, 2.821], // Girona
                        ], { color: '#10B981', weight: 4, opacity: 0.8 }).addTo(map);
                        const markers = [
                            { pos: [41.971, 2.821], popup: 'Girona: Start/End' },
                            { pos: [42.266, 2.724], popup: 'Sant Vicenç de Torelló' },
                            { pos: [42.142, 2.960], popup: 'Banyoles: Lake Views' },
                            { pos: [42.467, 3.162], popup: 'El Port de la Selva' },
                            { pos: [42.362, 3.148], popup: "L'Escala: Coastal Retreat" },
                            { pos: [41.853, 3.128], popup: 'Tossa de Mar' }
                        ];
                        markers.forEach(m => L.marker(m.pos, {
                            icon: L.divIcon({
                                className: 'custom-marker',
                                html: `<div style="background-color: #10B981; width: 12px; height: 12px; border-radius: 50%; border: 2px solid #fff;"></div>`
                            })
                        }).addTo(map).bindPopup(m.popup, { className: 'custom-popup' }));
                        return () => {
                            if (map) map.remove();
                        };
                    } catch (error) {
                        console.error('Map initialization failed:', error);
                    }
                }
            }, []);
            return <div id="map" className="animate-fadeInUp scroll-reveal"></div>;
        };

        const StickyCTA = () => (
            <div className="fixed bottom-6 right-6 z-50">
                <a
                    href="/request.html"
                    className="btn-accent text-white font-semibold py-4 px-8 rounded-full text-lg shadow-lg"
                    aria-label="Request itinerary"
                >
                    Request Itinerary
                </a>
            </div>
        );

        const WhyGirona = () => (
            <div className="mt-16 scroll-reveal">
                <h3 className="text-3xl font-bold text-emerald-400 mb-6 text-center">Why Girona Excels</h3>
                <p className="text-gray-100 mb-8 text-center max-w-2xl mx-auto">Girona offers an unmatched blend of historical charm, stunning landscapes, and a thriving cycling culture, ideal for a premium gravel experience.</p>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {[
                        { title: "Historical Significance", desc: "Traverse medieval Girona, including the iconic Cathedral and Besalú’s 11th-century bridge." },
                        { title: "Diverse Landscapes", desc: "Pedal through Garrotxa’s volcanic hills to the dramatic cliffs and tranquil lakes of Costa Brava." },
                        { title: "Cycling Community", desc: "Engage with professionals at La Fabrica café and connect via our Strava network for group rides." }
                    ].map((item, index) => (
                        <div key={index} className="bg-gray-800 p-6 rounded-xl hover-scale shadow-lg">
                            <h4 className="text-xl font-semibold text-gray-100 mb-3">{item.title}</h4>
                            <p className="text-gray-100">{item.desc}</p>
                        </div>
                    ))}
                </div>
            </div>
        );

        const App = () => {
            useScrollReveal();
            return (
                <ErrorBoundary>
                    <div>
                        <NavBar />
                        <Header />
                        <main className="container mx-auto py-16 px-6">
                            <section className="mb-20 text-center scroll-reveal">
                                <h2 className="text-4xl md:text-5xl font-bold text-gray-100 mb-8">Your Premier Girona Gravel Experience</h2>
                                <p className="text-lg text-gray-100 max-w-3xl mx-auto mb-10">
                                    Embark on a meticulously crafted 269-mile gravel bikepacking journey or explore day trips from Girona. Our complimentary itinerary includes Strava routes, premium accommodations, and expert insights for an exceptional cycling experience.
                                </p>
                                <RouteMap />
                            </section>
                            <WhyGirona />
                            <section className="text-center mt-16 flex justify-center items-center space-x-6 scroll-reveal">
                                <a
                                    href="/strava.html"
                                    className="btn-primary text-white font-semibold py-4 px-8 rounded-lg text-lg shadow-lg"
                                    aria-label="Join our Strava network"
                                >
                                    Join Strava
                                </a>
                                <a
                                    href="https://x.com/share?text=Discover the premier Girona gravel itinerary, complimentary for cyclists. Join the journey!&url=https://www.girona-luxe-bikepacking.net"
                                    className="btn-accent text-white font-semibold py-4 px-8 rounded-lg text-lg shadow-lg"
                                    aria-label="Share on X"
                                >
                                    Share on X
                                </a>
                            </section>
                            <StickyCTA />
                        </main>
                        <footer className="bg-gray-800 text-gray-100 py-8">
                            <div className="container mx-auto text-center">
                                <p className="text-lg">© 2025 Girona Luxe Bikepacking. Your Premier Gravel Journey Awaits.</p>
                                <p className="mt-3 text-sm">Designed with Tailwind CSS and React.</p>
                            </div>
                        </footer>
                    </div>
                </ErrorBoundary>
            );
        };

        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        } catch (error) {
            console.error('Failed to render React app:', error);
            document.getElementById('root').innerHTML = `
                <div class="error-boundary">
                    <h2>Application Failed to Load</h2>
                    <p>An error occurred while loading the application. Please try refreshing the page or contact support.</p>
                </div>
            `;
        }
    </script>
</body>
</html>